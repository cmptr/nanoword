import"../chunks/CWj6FrbW.js";import{o as Z,h as ee,s as h}from"../chunks/B9ZZyxSW.js";import{D as ae,F as _,G as v,I as te,J as R,K as x,s as D,L as T,g as e,M as d,N as I,$ as se,O as G,P as s,Q as r,R as H}from"../chunks/BOW-wTfZ.js";import{i as w}from"../chunks/DjkdqWsY.js";import{s as $,a as re}from"../chunks/Ceb4U5yK.js";import{s as oe,a as ie}from"../chunks/Dz78xBzY.js";import{s as ne}from"../chunks/CYyS2HqM.js";const le=()=>{const c=ne;return{page:{subscribe:c.page.subscribe},navigating:{subscribe:c.navigating.subscribe},updated:c.updated}},de={subscribe(c){return le().page.subscribe(c)}};var ve=_('<meta property="og:title"/> <meta property="og:description"/> <meta property="og:type" content="website"/> <meta name="twitter:card" content="summary"/> <meta name="twitter:title"/> <meta name="twitter:description"/>',1),ce=_('<div class="loading loading-spinner loading-lg"></div>'),me=_(`<div class="card bg-base-100 shadow-xl max-w-md"><div class="card-body text-center"><h2 class="card-title justify-center text-error"> </h2> <p>Sorry, this share link could not be found.</p> <div class="card-actions justify-center"><a href="/" class="btn btn-primary" style="font-family: 'Pixelify Sans', sans-serif;">Play Today's Puzzle</a></div></div></div>`),pe=_(`<div class="card bg-base-100 shadow-xl max-w-lg"><div class="card-body text-center"><h1 class="text-4xl font-bold mb-2" style="font-family: 'Pixelify Sans', monospace; color: #535353;">nanoword</h1> <div class="text-lg mb-4" style="font-family: 'Tiny5', monospace; color: #666;"> </div> <div> </div> <div class="stats stats-horizontal shadow mb-6"><div class="stat"><div class="stat-title">Time</div> <div class="stat-value text-lg"> </div></div> <div class="stat"><div class="stat-title">Hints Used</div> <div class="stat-value text-lg"> </div></div></div> <div class="card-actions justify-center"><a href="/" class="btn btn-primary btn-lg" style="font-family: 'Pixelify Sans', sans-serif;">Play Today's Puzzle</a></div></div></div>`),ge=_('<div class="min-h-screen bg-white flex items-center justify-center p-4" style="color: #535353;"><!></div>');function we(c,k){ae(k,!0);const J=()=>ie(de,"$page",K),[K,N]=oe();let t=T(null),L=T(!0),S=T(null);Z(async()=>{try{const{date:a,shareId:o}=J().params;console.log("Share page mounting with params:",{date:a,shareId:o});const i=await fetch(`/api/share/${a}/${o}`);if(console.log("Share page response status:",i.status),console.log("Share page response headers:",Object.fromEntries(i.headers.entries())),!i.ok){const m=await i.text();throw console.error("Share page response error:",m),i.status===404?new Error("Share not found"):new Error("Failed to load share")}const u=await i.json();console.log("Share page received data:",u),D(t,u.shareData,!0),console.log("Share page shareData set to:",e(t))}catch(a){console.error("Error in share page:",a),D(S,a.message,!0)}finally{console.log("Share page loading set to false"),D(L,!1)}});let Q=G(()=>{var a;return(a=e(t))!=null&&a.isRevealed?"🔍":"✅"}),y=G(()=>{var a;return(a=e(t))!=null&&a.isRevealed?"REVEALED":"SOLVED"});var z=ge();ee(a=>{var o=R(),i=x(o);{var u=m=>{var n=ve(),l=x(n),p=d(l,2),g=d(p,6),f=d(g,2);I(()=>{se.title=`nanoword ${e(t).date??""} - ${e(y)??""}`,$(l,"content",`nanoword ${e(t).date??""} - ${e(y)??""}`),$(p,"content",`I ${e(t).isRevealed?"revealed":"solved"} today's nanoword puzzle in ${e(t).time??""}!`),$(g,"content",`nanoword ${e(t).date??""} - ${e(y)??""}`),$(f,"content",`I ${e(t).isRevealed?"revealed":"solved"} today's nanoword puzzle in ${e(t).time??""}!`)}),v(m,n)};w(i,m=>{e(t)&&m(u)})}v(a,o)});var U=s(z);{var q=a=>{var o=ce();v(a,o)},B=a=>{var o=R(),i=x(o);{var u=n=>{var l=me(),p=s(l),g=s(p),f=s(g);r(g),H(4),r(p),r(l),I(()=>h(f,`❌ ${e(S)??""}`)),v(n,l)},m=n=>{var l=R(),p=x(l);{var g=f=>{var E=pe(),O=s(E),P=d(s(O),2),C=s(P,!0);r(P);var b=d(P,2),W=s(b);r(b);var F=d(b,2),j=s(F),M=d(s(j),2),X=s(M);r(M),r(j);var V=d(j,2),A=d(s(V),2),Y=s(A);r(A),r(V),r(F),H(2),r(O),r(E),I(()=>{h(C,e(t).date),re(b,1,`text-2xl mb-6 ${e(t).isRevealed?"text-warning":"text-success"}`),h(W,`${e(Q)??""} ${e(y)??""}`),h(X,`⏱️ ${e(t).time??""}`),h(Y,`💡 ${e(t).hints??""}`)}),v(f,E)};w(p,f=>{e(t)&&f(g)},!0)}v(n,l)};w(i,n=>{e(S)?n(u):n(m,!1)},!0)}v(a,o)};w(U,a=>{e(L)?a(q):a(B,!1)})}r(z),v(c,z),te(),N()}export{we as component};
